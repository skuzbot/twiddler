<!DOCTYPE html>
<html>

  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>

  <body>
    <header>
      <h1 class="title">Twidder</h1>
    </header>
    <section class="newTwids">
      <button id="stop">Stop</button>
    </section>
    <section id="twidContainer"></section>

    <script>

      $(document).ready(function(){
        var $body = $('body');
        var $newTwids = $('.newTwids');
        var $twidContainer = $('#twidContainer');
        //$body.html('');
       

        function getNewTwid(index) {
            var tweet = streams.home[index];
            var $tweet = $('<div class="twid"></div>');
            var time = tweet.created_at;
            var $time = $('<small class="time"></small>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message);
            $time.text('submitted at ' + time);
            $tweet.prependTo($twidContainer);
            $time.appendTo($tweet);
            index++;
        };
        
      
        var start = setInterval(function() {
            for (i = 0; i < streams.home.length; i++) {
              getNewTwid(i);
            };
          }, 500);
         
        //start();

        var stopButton = document.getElementById("stop");
        stopButton.onclick = stop;
        function stop() { 
          clearInterval(start);
        };
        
      });

    </script>
  </body>
</html>


